<!-- This file was automatically generated by the `geine`. Make all changes to `README.yaml` and run `make readme` to rebuild this file. -->

[![Clouddrove][logo]](https://clouddrove.com)

# terraform-aws-sns-platform-application

 [![Build Status](https://img.shields.io/badge/build-passing-green.svg)](https://travis-ci.org/cloudposse/terraform-aws-vpc)


This terraform module is used to create SNS on AWS.


---

This project is part of our comprehensive ["Clouddrove"](https://clouddrove.com) approach towards DevOps. 
[<img align="right" title="Share on Facebook" src="https://docs.cloudposse.com/images/ionicons/social-facebook-outline-2.0.1-16x16-999999.svg" />][share_facebook]
[<img align="right" title="Share on LinkedIn" src="https://docs.cloudposse.com/images/ionicons/social-linkedin-outline-2.0.1-16x16-999999.svg" />][share_linkedin]
[<img align="right" title="Share on Twitter" src="https://docs.cloudposse.com/images/ionicons/social-twitter-outline-2.0.1-16x16-999999.svg" />][share_twitter]


[![Terraform Open Source Modules](https://docs.cloudposse.com/images/terraform-open-source-modules.svg)][terraform_modules]




It's 100% Open Source and licensed under the [MIT](LICENSE).



We literally have [*hundreds of terraform modules*][terraform_modules] that are Open Source and well-maintained. Check them out! 







## Usage


**IMPORTANT:** The `master` branch is used in `source` just as an example. In your code, do not pin to `master` because there may be breaking changes between releases.
Instead pin to the release tag (e.g. `?ref=tags/x.y.z`) of one of our [latest releases](https://github.com/clouddrove/terraform-aws-sns-platform-application/releases).


Include this repository as a module in your existing terraform code:
### Example1
```hcl
  module "sns" {
    source = "git::https://github.com/clouddrove/terraform-aws-sns.git"
    name        = "clouddrove"
    platform    = "APNS"
    key         = file("./../../../certificates/private_key.pem")
    certificate = file("./../../../certificates/cert.pem")
    topic_name  = "sns_topic"
    delivery_policy = file("./../_json/delivery_policy.json")
    policy      = data.aws_iam_policy_document.sns-topic-policy.json
    endpoint = "arn:aws:sqs:eu-west-1:866067750630:dev-sqs-clouddrove"
    update_preference = true
    create_topic = true
    protocol = "sqs"
  }

  data "aws_iam_policy_document" "sns-topic-policy" {
    policy_id = "__default_policy_ID"
    statement {
      actions = [
        "SNS:Subscribe",
        "SNS:SetTopicAttributes",
        "SNS:RemovePermission",
        "SNS:Receive",
        "SNS:Publish",
        "SNS:ListSubscriptionsByTopic",
        "SNS:GetTopicAttributes",
        "SNS:DeleteTopic",
        "SNS:AddPermission",
      ]
      condition {
        test     = "StringEquals"
        variable = "AWS:SourceOwner"

        values = [
          866067750630,
        ]
      }
      effect = "Allow"
      principals {
        type        = "AWS"
        identifiers = ["*"]
      }
      resources = [
        "arn:aws:sns:eu-west-1:866067750630:sns_topic",
      ]
      sid = "__default_statement_ID"
    }
  }
```
### Example2
```hcl
  module "sns" {
    source = "git::https://github.com/clouddrove/terraform-aws-sns.git"
    name        = "clouddrove"
    platform    = "GCM"
    key         = "AAAAKHQaqe1w:APA91bEgwftAYq6N2YV8TeU2k4bRj0k1q2I7Q47ZvFPLQm-ESbD2Fhjj3U9wNNuZ2aC-QZVdgDrN5C6E3Ec08AWhMgbs4b72gNvqcXh1JBoR6yLwretghyjutTR4yRmT0vWdhz4_PW1AwDC0aVoH"
  }
```






## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|:----:|:-----:|:-----:|
| application_failure_feedback_role_arn | IAM role for failure feedback. | string | `` | no |
| application_success_feedback_role_arn | The IAM role permitted to receive success feedback for this topic. | string | `` | no |
| application_success_feedback_sample_rate | Percentage of success to sample. | number | `100` | no |
| certificate | application Platform principal. See Principal for type of principal required for platform. The value of this attribute when stored into the Terraform state is only a hash of the real value, so therefore it is not practical to use this as an attribute for other resources | string | `` | no |
| confirmation_timeout_in_minutes | Integer indicating number of minutes to wait in retying mode for fetching subscription arn before marking it as failure. Only applicable for http and https protocols. | number | `60` | no |
| create_topic | Boolean indicating whether or not to create topic. | string | `false` | no |
| default_sender_id | A string, such as your business brand, that is displayed as the sender on the receiving device. | string | `` | no |
| default_sms_type | The type of SMS message that you will send by default. Possible values are: Promotional, Transactional. | string | `Transactional` | no |
| delivery_policy | The SNS delivery policy. | string | `` | no |
| delivery_status_iam_role_arn | The ARN of the IAM role that allows Amazon SNS to write logs about SMS deliveries in CloudWatch Logs. | string | `` | no |
| delivery_status_success_sampling_rate | The percentage of successful SMS deliveries for which Amazon SNS will write logs in CloudWatch Logs. The value must be between 0 and 100. | string | `50` | no |
| display_name | The display name for the SNS topic. | string | `` | no |
| endpoint | The endpoint to send data to, the contents will vary with the protocol. | string | `` | no |
| endpoint_auto_confirms | Boolean indicating whether the end point is capable of auto confirming subscription. | string | `false` | no |
| event_delivery_failure_topic_arn | SNS Topic triggered when a delivery to any of the platform endpoints associated with your platform application encounters a permanent failure. | string | `` | no |
| event_endpoint_created_topic_arn | SNS Topic triggered when a new platform endpoint is added to your platform application. | string | `` | no |
| event_endpoint_deleted_topic_arn | SNS Topic triggered when an existing platform endpoint is deleted from your platform application. | string | `` | no |
| event_endpoint_updated_topic_arn | SNS Topic triggered when an existing platform endpoint is changed from your platform application. | string | `` | no |
| failure_feedback_role_arn | The IAM role permitted to receive failure feedback for this application. | string | `` | no |
| filter_policy | JSON String with the filter policy that will be used in the subscription to filter messages seen by the target resource. | string | `` | no |
| http_failure_feedback_role_arn | IAM role for failure feedback. | string | `` | no |
| http_success_feedback_role_arn | The IAM role permitted to receive success feedback for this topic. | string | `` | no |
| http_success_feedback_sample_rate | Percentage of success to sample. | number | `100` | no |
| key | Application Platform credential. See Credential for type of credential required for platform. The value of this attribute when stored into the Terraform state is only a hash of the real value, so therefore it is not practical to use this as an attribute for other resources | string | `` | no |
| kms_master_key_id | The ID of an AWS-managed customer master key (CMK) for Amazon SNS or a custom CMK. For more information. | string | `` | no |
| lambda_failure_feedback_role_arn | IAM role for failure feedback. | string | `` | no |
| lambda_success_feedback_role_arn | The IAM role permitted to receive success feedback for this topic. | string | `` | no |
| lambda_success_feedback_sample_rate | Percentage of success to sample. | number | `100` | no |
| monthly_spend_limit | The maximum amount in USD that you are willing to spend each month to send SMS messages. | string | `1` | no |
| name | The friendly name for the SNS platform application | string | - | yes |
| name_prefix | The friendly name for the SNS topic. Conflicts with name. | string | `` | no |
| platform | The platform that the app is registered with. See Platform for supported platforms like 'APNS' 'GCM' | string | `` | no |
| platform_principal | Application Platform principal. See Principal for type of principal required for platform. The value of this attribute when stored into the Terraform state is only a hash of the real value, so therefore it is not practical to use this as an attribute for other resources. | string | `` | no |
| policy | The fully-formed AWS policy as JSON. For more information about building AWS IAM policy documents with Terraform. | string | `` | no |
| protocol | The protocol to use. The possible values for this are: sqs, sms, lambda, application | string | `` | no |
| raw_message_delivery | Boolean indicating whether or not to enable raw message delivery. | string | `false` | no |
| sqs_failure_feedback_role_arn | IAM role for failure feedback. | string | `` | no |
| sqs_success_feedback_role_arn | The IAM role permitted to receive success feedback for this topic. | string | `` | no |
| sqs_success_feedback_sample_rate | Percentage of success to sample. | number | `100` | no |
| subscription_delivery_policy | JSON String with the delivery policy (retries, backoff, etc.) that will be used in the subscription - this only applies to HTTP/S subscriptions. | string | `` | no |
| success_feedback_role_arn | The IAM role permitted to receive success feedback for this application. | string | `` | no |
| success_feedback_sample_rate | The percentage of success to sample (0-100) | number | `100` | no |
| topic_name | The friendly name for the SNS topic. By default generated by Terraform. | string | `` | no |
| update_preference | Boolean indicating whether or not to update SNS SMS Preference. | string | `false` | no |
| usage_report_s3_bucket | The name of the Amazon S3 bucket to receive daily SMS usage reports from Amazon SNS. | string | `` | no |

## Outputs

| Name | Description |
|------|-------------|
| arn | The ARN of the SNS platform application |
| id | The ID of the SNS platform application |




## Share the Love 

Like this project? Please give it a ★ on [our GitHub](https://github.com/clouddrove/terraform-aws-sns-platform-application)! (it helps us **a lot**) 

## Related Projects

Check out these related projects.

- [terraform-aws-sqs](https://github.com/clouddrove/terraform-aws-sqs) - Terraform module provisioning for create SQS on AWS.



## Help

**Got a question?**

File a GitHub [issue](https://github.com/clouddrove/terraform-aws-sns-platform-application/issues), send us an [email][email].

## Contributing

### Bug Reports & Feature Requests

Please use the [issue tracker](https://github.com/clouddrove/terraform-aws-sns-platform-application/issues) to report any bugs or file feature requests.


## Copyright

Copyright © [CloudDrove](https://clouddrove.com). All Right Reserved.




## License 

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

MIT License

Copyright (c) 2019 Cloud Drove

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

Source: <https://opensource.org/licenses/MIT>


## About

[![Clouddrove][logo]][website]

We're a DevOps Professional Services company based in München, Germany. We ❤️  [Open Source Software][we_love_open_source].

Check out [our other projects][github], [follow us on twitter][twitter] to help with your cloud strategy and implementation.



### Contributors

|  [![Kamlesh Bhargav][kamleshbhargav_avatar]][kamleshbhargav_homepage]<br/>[Kamlesh Bhargav][kamleshbhargav_homepage] | [![Nikita Dugar][nikitadugar_avatar]][nikitadugar_homepage]<br/>[Nikita Dugar][nikitadugar_homepage] | [![Sohan Yadav][sohanyadav_avatar]][sohanyadav_homepage]<br/>[Sohan Yadav][sohanyadav_homepage] |
|---|---|---|

  [kamleshbhargav_homepage]: https://github.com/kamleshbhargav
  [kamleshbhargav_avatar]: https://github.com/kamleshbhargav.png?size=150
  [nikitadugar_homepage]: https://github.com/nikitadugar
  [nikitadugar_avatar]: https://github.com/nikitadugar.png?size=150
  [sohanyadav_homepage]: https://github.com/sohanyadav
  [sohanyadav_avatar]: https://github.com/sohanyadav.png?size=150



  [logo]: https://clouddrove.com/media/images/logo.png
  [website]: https://clouddrove.com
  [github]: https://github.com/clouddrove
  [linkedin]: https://cpco.io/linkedin
  [twitter]: https://twitter.com/clouddrove/
  [email]: https://clouddrove.com/contact-us.html
  [we_love_open_source]: https://github.com/clouddrove
  [terraform_modules]: https://github.com/clouddrove?utf8=%E2%9C%93&q=terraform-&type=&language=
  [share_twitter]: https://twitter.com/intent/tweet/?text=terraform-aws-sns-platform-application&url=https://github.com/clouddrove/terraform-aws-sns-platform-application
  [share_linkedin]: https://www.linkedin.com/shareArticle?mini=true&title=terraform-aws-sns-platform-application&url=https://github.com/clouddrove/terraform-aws-sns-platform-application
  [share_facebook]: https://facebook.com/sharer/sharer.php?u=https://github.com/clouddrove/terraform-aws-sns-platform-application
